---
import { getCollection } from 'astro:content';
import Section from './Section.astro';
import ProjectCard from './ProjectCard.astro';

const allProjects = await getCollection('projects');
const projects = allProjects.sort((a, b) => a.data.order - b.data.order);
---

<Section id="projects" title="Selected Projects">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {
      projects.map((project) => (
        <ProjectCard
          title={project.data.title}
          description={project.data.description}
          tags={project.data.tags}
          link={project.data.link}
          github={project.data.github}
        />
      ))
    }
  </div>
</Section>
